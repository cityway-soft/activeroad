#!/usr/bin/env ruby

require File.expand_path('../../config/boot', __FILE__)

# Way 12704296
# http://www.openstreetmap.org/browse/way/12704296

franklin_avenue_osm_geometry = GeoRuby::SimpleFeatures::Geometry.from_hex_ewkb "010200002031BF0D005900000048E17A2CA61E63C185EB51B890B84A41CDCCCCCCA61E63C114AE4741C7B84A410AD7A3E0A71E63C1000000C00DB94A4148E17A14A81E63C11F85EBF119B94A41C3F52824A81E63C1CDCCCC4C1DB94A410AD7A3F8A81E63C1C3F5287C4CB94A415C8FC2CDA91E63C1EC51B8FE7EB94A413333332BAA1E63C1B81E852B95B94A4148E17AA4AA1E63C1295C8FE2B1B94A41E17A1446AB1E63C1CDCCCC2CD8B94A41D7A3707DAB1E63C19A999939E5B94A419A999951AC1E63C1AE47E19A17BA4A411F85EB89AC1E63C1295C8FE224BA4A413D0AD7F3AC1E63C148E17AF43DBA4A41C3F5282CAD1E63C1D7A3703D4BBA4A410AD7A3A0AD1E63C1000000E066BA4A41B81E8503AE1E63C11F85EB517EBA4A41713D0A77AE1E63C1E17A14AE99BA4A4185EB51D8AE1E63C114AE47C1B0BA4A41B81E85B3AF1E63C148E17AB4E4BA4A41C3F5288CB01E63C10000006017BB4A4114AE4789B01E63C10000006017BB4A410AD7A368B11E63C1EC51B83E4CBB4A41295C8F7AB11E63C1333333B353BB4A41000000D0B11E63C10AD7A35097BB4A41AE47E1DAB11E63C10AD7A370A0BB4A411F85EB29B41E63C19A9999392EBC4A41B81E85A3B51E63C1A4703DCA66BC4A41AE47E1EAB51E63C18FC2F5487DBC4A41C3F528A4B61E63C18FC2F5089DBC4A41333333ABB61E63C185EB51389FBC4A41666666B6B71E63C1C3F5281CDFBC4A41C3F5286CB81E63C1E17A142E11BD4A4152B81EA5B81E63C1F6285C2F21BD4A4100000070B91E63C1B81E852B62BD4A413D0AD7F3B91E63C10000008082BD4A419A999969BA1E63C185EB51D89EBD4A4152B81EADBA1E63C1C3F5285CA8BD4A411F85EB89BB1E63C114AE4761C6BD4A419A999971BC1E63C1713D0A77F4BD4A410AD7A398BC1E63C1EC51B85EFCBD4A4114AE47B9BD1E63C1295C8F822EBE4A4100000008BF1E63C148E17AF45BBE4A41AE47E152BF1E63C1713D0A176CBE4A417B14AEEFBF1E63C185EB51388EBE4A418FC2F568C01E63C148E17A54ADBE4A41B81E85B3C01E63C1AE47E13AC0BE4A415C8FC285C11E63C114AE4741EEBE4A41333333BBC11E63C152B81E05FABE4A41713D0A7FC21E63C1F6285C2F24BF4A41D7A370ADC21E63C1D7A3705D31BF4A41AE47E1C2C21E63C1A4703D2A3CBF4A410AD7A398C31E63C1333333D37EBF4A417B14AE27C51E63C1CDCCCC4CBFBF4A4166666656C61E63C1F6285C0F01C04A4114AE4741C71E63C1D7A370FD41C04A411F85EB81C81E63C10000000086C04A41CDCCCCACC81E63C1295C8F628FC04A41D7A370EDC91E63C148E17A14D3C04A4133333303CB1E63C1F6285C8F13C14A416666662ECC1E63C10000000055C14A4114AE4799CC1E63C10AD7A3706BC14A415C8FC295CC1E63C1AE47E1DA6CC14A415C8FC2B5CC1E63C10AD7A31079C14A41EC51B8CECC1E63C1B81E852B81C14A41713D0A2FCD1E63C152B81EC596C14A415C8FC25DCE1E63C1D7A3701DD9C14A41333333B3CE1E63C148E17A14ECC14A41333333F3CE1E63C1713D0AF7F9C14A41B81E8533CF1E63C18FC2F5080AC24A41B81E8593CF1E63C1D7A370FD20C24A4114AE4709D01E63C1D7A3703D3EC24A41F6285C37D01E63C1CDCCCC6C49C24A41A4703D82D01E63C1295C8F225CC24A41E17A14A6D01E63C1713D0A7763C24A4152B81EEDD01E63C1AE47E19A71C24A4166666666D11E63C1713D0AB789C24A41F6285C9FD11E63C1A4703D4A95C24A41F6285CBFD11E63C148E17A349BC24A417B14AE7FD21E63C1666666A6C1C24A41713D0AA7D21E63C185EB5138CDC24A4148E17A3CD31E63C1AE47E13AF8C24A411F85EB71D31E63C1EC51B87E08C34A4114AE47B9D31E63C1E17A146E1CC34A41F6285CC7D31E63C1713D0AF71FC34A41A4703DF2D31E63C18FC2F52829C34A419A999959D41E63C19A9999B93FC34A41295C8F12D51E63C114AE478162C34A41F6285C4FD51E63C1F6285C4F76C34A41"

road_geometry = GeoRuby::SimpleFeatures::MultiLineString.from_line_strings([franklin_avenue_osm_geometry], franklin_avenue_osm_geometry.srid)

franklin_avenue = ActiveRoad::Base.find_or_create_by_objectid :objectid => "osm::12704296", :name => "Franklin Ave", :geometry => road_geometry

[
 { :number => "3039", :location_on_road => 1, :geometry => "010100002031BF0D0048E17A2CA61E63C185EB51B890B84A41" },
 { :number => "6441", :location_on_road => 0, :geometry => "010100002031BF0D007F1C6D07CC1E63C11E889E274FC14A41" }
].each do |attributes|
  attributes[:geometry] = GeoRuby::SimpleFeatures::Geometry.from_hex_ewkb attributes[:geometry]
  franklin_avenue.numbers.find_or_create_by_number(attributes[:number]).update_attributes attributes
end
